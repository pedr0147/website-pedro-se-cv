---
import Layout from '../layouts/Layout.astro';
import cv from '../assets/cv.json';
---

<Layout>
  <main class="wrap">
    <header class="hero">
      <div>
        <h1>{cv.name}</h1>
        <p class="headline">{cv.headline}</p>
        <p class="meta">{cv.location}</p>

        <nav class="links">
          {cv.links.map((l) => (
            <a class="link" href={l.href} target={l.href.startsWith('http') ? "_blank" : undefined} rel="noreferrer">
              {l.label}
            </a>
          ))}
        </nav>
      </div>

      <div class="card">
        <h2>Destaques</h2>
        <ul>
          {cv.highlights.map((h) => <li>{h}</li>)}
        </ul>
      </div>
    </header>

    <section class="section">
      <h2>Projetos</h2>
      <div class="grid">
        {cv.projects.map((p) => (
          <article class="proj">
            <div class="projTop">
              <h3>{p.name}</h3>
              <div class="tags">
                {p.tags?.map((t) => <span class="tag">{t}</span>)}
              </div>
            </div>
            <p>{p.desc}</p>
          </article>
        ))}
      </div>
    </section>

    <section class="section">
      <h2>Case study</h2>
      <p>
        Como foi feito, decis√µes e trade-offs: <a href="/case-study">ler</a>.
      </p>
    </section>
  </main>
</Layout>

<style>
  .wrap { max-width: 980px; margin: 0 auto; padding: 56px 20px; }
  .hero { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 24px; align-items: start; }
  h1 { font-size: 44px; margin: 0; letter-spacing: -0.02em; }
  .headline { margin: 10px 0 0; font-size: 18px; opacity: .9; line-height: 1.6; }
  .meta { margin: 8px 0 0; opacity: .7; }
  .links { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 14px; }
  .link { text-decoration: none; border: 1px solid rgba(0,0,0,.12); padding: 8px 10px; border-radius: 10px; }
  .link:hover { border-color: rgba(0,0,0,.28); }
  .card { border: 1px solid rgba(0,0,0,.12); border-radius: 16px; padding: 16px; }
  .section { margin-top: 34px; }
  .grid { display: grid; gap: 14px; }
  .proj { border: 1px solid rgba(0,0,0,.12); border-radius: 16px; padding: 16px; }
  .projTop { display:flex; justify-content: space-between; gap: 12px; align-items: baseline; }
  h2 { margin: 0 0 12px; font-size: 20px; }
  h3 { margin: 0; font-size: 18px; }
  p { margin: 8px 0 0; line-height: 1.6; opacity: .9; }
  ul { margin: 0; padding-left: 18px; line-height: 1.8; }
  .tags { display:flex; gap: 8px; flex-wrap: wrap; }
  .tag { font-size: 12px; border: 1px solid rgba(0,0,0,.12); padding: 4px 8px; border-radius: 999px; opacity: .85; }

  @media (max-width: 860px) {
    .hero { grid-template-columns: 1fr; }
  }
</style>
